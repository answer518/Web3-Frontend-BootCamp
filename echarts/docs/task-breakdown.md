# Echarts 可视化项目任务拆分 (Task Breakdown)

本文档基于《需求分析》、《技术方案》与《UI原型》制定，旨在为项目开发提供清晰、可执行的步骤。

## 阶段一：项目基础与静态布局 (Milestone 1)

**目标**：搭建项目骨架，完成应用的基础布局和样式，为图表集成做准备。
**产出**：一个可运行的应用，包含符合原型设计的静态页头、内容区和页脚。

| 优先级 | 任务 ID | 任务描述 | 产出物 | 备注 |
| :--- | :--- | :--- | :--- | :--- |
| **P0** | T1.1 | **项目初始化**：使用 `pnpm create vite` 创建 `react-ts` 项目。 | 一个基础的 Vite + React 项目。 | 严格遵循技术方案。 |
| **P0** | T1.2 | **依赖安装**：安装 `echarts`, `echarts-for-react` 等核心依赖。 | `package.json` 中包含所有必要依赖。 |  |
| **P0** | T1.3 | **环境配置**：配置 `tsconfig.json` 和 `vite.config.ts` 的路径别名，并集成 ESLint & Prettier。 | 项目配置文件。 | 确保 `@/` 别名可用。 |
| **P0** | T1.4 | **目录结构创建**：根据技术方案创建 `src` 下的所有子目录。 | 标准化的项目目录结构。 |  |
| **P1** | T1.5 | **全局样式与CSS变量**：创建 `src/styles/global.css`，并定义 UI 原型中的所有 CSS 颜色、字体变量。 | 全局样式文件。 | 确保颜色、字体与 `ui-design.html` 一致。 |
| **P1** | T1.6 | **静态布局组件**：创建 `Header`, `Footer` 和 `MainLayout` 布局组件。 | 可复用的布局组件。 | 仅实现静态结构和样式，无需交互。 |
| **P1** | T1.7 | **应用入口集成**：在 `App.tsx` 或 `main.tsx` 中集成 `MainLayout`，使应用具备基本外观。 | 一个带有完整布局但内容区为空的页面。 |  |

## 阶段二：核心图表封装与第一个图表展示 (Milestone 2)

**目标**：完成 Echarts 的核心封装，并成功渲染第一个图表（折线图），验证核心链路。
**产出**：页面上成功展示一个使用模拟数据、可交互的 DeFi TVL 折线图。

| 优先级 | 任务 ID | 任务描述 | 产出物 | 备注 |
| :--- | :--- | :--- | :--- | :--- |
| **P0** | T2.1 | **Echarts 按需引入**：创建 `src/utils/echarts.ts`，按需注册所有需要的图表和组件。 | `echarts.ts` 模块。 | 避免全量引入，是性能优化的关键。 |
| **P0** | T2.2 | **`EchartsChart` 封装**：创建通用的 `EchartsChart` 组件，用于接收 `option` 并渲染图表。 | `EchartsChart` 组件。 | 严格遵循技术方案中的封装思路。 |
| **P1** | T2.3 | **创建模拟数据**：在 `src/data` 目录下创建 `tvlData.json`，用于折线图展示。 | 静态 JSON 数据文件。 |  |
| **P1** | T2.4 | **折线图页面开发**：创建 `src/pages/LineTVL` 页面，获取模拟数据，配置 `option`，并使用 `EchartsChart` 组件渲染。 | `LineTVL` 页面组件。 |  |
| **P1** | T2.5 | **集成与展示**：将 `LineTVL` 页面集成到主布局的内容区，并确保图表正常显示。 | 页面上出现第一个图表。 |  |

## 阶段三：完成所有图表的静态渲染 (Milestone 3)

**目标**：基于已验证的核心组件，快速实现剩余三个图表的静态渲染。
**产出**：仪表盘上展示所有四个图表，布局与 UI 原型一致。

| 优先级 | 任务 ID | 任务描述 | 产出物 | 备注 |
| :--- | :--- | :--- | :--- | :--- |
| **P1** | T3.1 | **柱状图开发**：创建模拟数据 `dexVolume.json` 和 `BarDEX` 页面组件。 | `BarDEX` 页面组件和数据。 |  |
| **P1** | T3.2 | **饼图开发**：创建模拟数据 `tokenHolders.json` 和 `PieHolders` 页面组件。 | `PieHolders` 页面组件和数据。 |  |
| **P1** | T3.3 | **K线图开发**：创建模拟数据 `tokenPrice.json` 和 `KlineToken` 页面组件。 | `KlineToken` 页面组件和数据。 |  |
| **P1** | T3.4 | **仪表盘页面组装**：创建一个 `Dashboard` 页面，使用网格布局将四个图表组件整合在一起。 | `Dashboard` 页面。 | 确保布局与 `ui-design.html` 中的 `charts-grid` 一致。 |

## 阶段四：实现交互功能与体验优化 (Milestone 4)

**目标**：为所有图表添加需求文档中定义的核心交互，并优化用户体验。
**产出**：一个功能完整、交互流畅、符合响应式设计的高保真应用。

| 优先级 | 任务 ID | 任务描述 | 产出物 | 备注 |
| :--- | :--- | :--- | :--- | :--- |
| **P1** | T4.1 | **通用交互实现**：为所有图表添加 `Tooltip`（悬停提示）和清晰的 `Title`（标题）。 | 增强的图表交互。 |  |
| **P2** | T4.2 | **范围选择功能**：为折线图和 K 线图添加 `DataZoom` 组件，支持时间范围选择与缩放。 | 更强的数据探索能力。 |  |
| **P2** | T4.3 | **辅助线与排序**：为 K 线图添加均线（MA）切换功能；为柱状图添加排序功能（可选）。 | 高级交互功能。 |  |
| **P2** | T4.4 | **响应式适配**：调试并优化在移动设备上的显示效果，确保布局、字体大小和图表可读性。 | 适配移动端的 UI。 | 重点测试 `charts-grid` 的单列转换。 |
| **P2** | T4.5 | **加载动画**：为图表卡片添加 `fadeIn-up` 加载动画，提升视觉体验。 | 优化的加载效果。 |  |

## 阶段五：收尾与文档完善 (Milestone 5)

**目标**：进行代码审查、清理和最终测试，并完善项目文档。
**产出**：一个可交付、易于维护的高质量项目。

| 优先级 | 任务 ID | 任务描述 | 产出物 | 备注 |
| :--- | :--- | :--- | :--- | :--- |
| **P2** | T5.1 | **代码审查与重构**：检查代码质量，移除无用代码，对可复用逻辑进行提取。 | 更整洁的代码库。 |  |
| **P2** | T5.2 | **注释完善**：为核心组件和复杂函数添加 JSDoc 注释。 | 易于理解和维护的代码。 |  |
| **P1** | T5.3 | **最终测试**：在主流浏览器和移动设备上进行全面的功能和兼容性测试。 | 一份测试报告或确认清单。 |  |
| **P1** | T5.4 | **项目文档**：更新或创建 `README.md`，包含项目介绍、安装、启动和构建说明。 | 完整的项目文档。 |  |